# Reproducibility Package Structure

This document describes the planned directory structure and key components of the final code repository submission for the OpenAI "Lost City of Z" Discovery Challenge. The structure is designed to be logical, easy to navigate, and facilitate the reproduction of our results by the judges.

## Repository Root Directory Name:

`OpenAI_LostCityZ_AmazonArchaeology/` (Or a similar descriptive name)

## Proposed Directory Structure:

```
OpenAI_LostCityZ_AmazonArchaeology/
│
├── data/
│   ├── raw/                             # For raw data downloaded by acquisition scripts
│   │   ├── sentinel2/                   # Raw Sentinel-2 .SAFE directories
│   │   ├── lidar/                       # Raw LAZ/LAS files
│   │   └── textual/                     # Raw HTML, PDF, TXT files
│   │       └── (subdirectories per source if needed)
│   ├── processed/                       # For processed data from our pipelines
│   │   ├── sentinel2/                   # Processed Sentinel-2 GeoTIFFs (cloud-masked, clipped, bands selected)
│   │   ├── lidar/                       # Processed LAS (ground classified), DTMs, Hillshades
│   │   └── textual/                     # Cleaned TXT files, language metadata (.lang), OCR outputs
│   │       └── (subdirectories per source if needed)
│   ├── aoi/                             # Area of Interest definition files
│   │   └── aoi_boundary.geojson         # Example AOI file (if provided/used, or instructions to create)
│   └── external_references/ (Optional)  # e.g., known site locations if used for non-prediction context
│       └── (placeholder_known_sites.csv)
│
├── scripts/
│   ├── satellite_pipeline/              # Sentinel-2 acquisition and preprocessing
│   │   ├── acquire_sentinel2.py
│   │   ├── preprocess_sentinel2.py
│   │   └── README.md                    # Specific instructions for this pipeline
│   ├── lidar_pipeline/                  # LiDAR acquisition and preprocessing
│   │   ├── acquire_lidar.py
│   │   ├── preprocess_lidar.py
│   │   └── README.md                    # Specific instructions for this pipeline
│   ├── text_pipeline/                   # Textual data acquisition and preprocessing
│   │   ├── acquire_texts.py
│   │   ├── preprocess_texts.py
│   │   └── README.md                    # Specific instructions for this pipeline
│   └── utils/ (Optional)                # Shared utility functions, if any
│       └── (e.g., logging_setup.py, config_loader.py - if refactored from main scripts)
│
├── notebooks/
│   ├── lidar_eda.ipynb                  # EDA for LiDAR data
│   ├── satellite_eda.ipynb              # EDA for Satellite imagery
│   ├── textual_eda_openai.ipynb         # EDA for Textual data using OpenAI
│   ├── piz_identification_scoring.ipynb # PIZ identification, scoring, conceptual OpenAI integration
│   └── (Optional) early_sharing_notebook.ipynb # If submitted for early sharing prize
│
├── eda_outputs/                         # Outputs generated by EDA notebooks (images, intermediate files)
│   ├── lidar/
│   ├── satellite/
│   ├── textual/
│   └── piz/
│
├── reports/
│   ├── FINAL_REPORT.md                  # Main competition report (Markdown source)
│   ├── (FINAL_REPORT.pdf)               # (Optional) PDF version generated from the Markdown
│   ├── figures_and_tables/              # Key figures and tables used in FINAL_REPORT (if not embedded)
│   │   └── (e.g., summary_statistics.csv, piz_map_overview.png)
│   └── site_dossiers/                   # Individual dossiers for top N PIZs
│       ├── PIZ_001_Dossier.md
│       ├── PIZ_002_Dossier.md
│       └── images/                      # Images supporting the site dossiers
│           ├── piz001_lidar_hillshade.png
│           └── ...
│
├── config/
│   └── config.ini                       # Central configuration file for all scripts and notebooks
│                                        # (Cleaned for submission, e.g., with placeholder API keys)
│
├── project_documentation/               # All strategy and guideline documents
│   ├── PHASE_1_PLAN.md
│   ├── DATA_ACQUISITION_PREPROCESSING_WORKFLOWS.md
│   ├── EDA_FEATURE_ENGINEERING_STRATEGY.md
│   ├── SITE_PREDICTION_VERIFICATION_STRATEGY.md
│   ├── PIZ_VERIFICATION_PROCEDURES.md
│   ├── EVIDENCE_COMPILATION_INSIGHT_GENERATION_GUIDELINES.md
│   ├── EXAMPLE_CANDIDATE_SITE_DOSSIER.md
│   ├── FINAL_REPORT_OUTLINE.md
│   └── REPRODUCIBILITY_PACKAGE_STRUCTURE.md
│
├── environment.yml                      # For Conda environment setup
├── requirements.txt                     # For pip environment setup (can be generated from Conda env)
├── README.md                            # Overall project README:
│                                        #   - Brief project description
│                                        #   - Link to FINAL_REPORT.md for full details
│                                        #   - Quick start guide for environment setup and running the pipeline
│                                        #   - Overview of repository structure
└── LICENSE                              # e.g., CC0-1.0 (as per competition rules for winning submissions)
```

## Explanation of Key Directories and Files:

*   **`data/`**:
    *   This directory is intended to house all input data and processed outputs.
    *   **Important Note for Submission:** Due to the potentially large size of raw and processed geospatial data, this directory might only contain small sample datasets or placeholders, with clear instructions in the main `README.md` or `reports/FINAL_REPORT.md` on how to download the full datasets required to run the pipelines (referencing verifiable links from the report's Data Sources section).
    *   `raw/`: Stores data as originally acquired.
    *   `processed/`: Stores data after undergoing preprocessing steps by our scripts.
    *   `aoi/`: Contains the GeoJSON or other vector file defining the primary Area of Interest.
    *   `external_references/`: (Optional) Any external reference data used for context, e.g., locations of known sites if used for comparison (and if licensing permits their inclusion).

*   **`scripts/`**:
    *   Contains all Python scripts organized into subdirectories for each data pipeline (satellite, LiDAR, textual).
    *   Each pipeline directory includes its core acquisition and preprocessing scripts and a specific `README.md` if detailed instructions are needed beyond the main report.
    *   `utils/`: (Optional) For any shared Python utility functions that might be refactored from the main pipeline scripts for clarity (e.g., common logging setup, config loading).

*   **`notebooks/`**:
    *   Jupyter Notebooks used for Exploratory Data Analysis (EDA) and the PIZ identification/scoring system.
    *   These notebooks should be well-commented and runnable, assuming the data in `data/processed/` is available (or can be generated by the scripts).

*   **`eda_outputs/`**:
    *   Stores visual outputs (plots, maps, images) and any intermediate data files (e.g., CSVs) generated during the execution of the EDA notebooks. This helps keep the `notebooks/` directory clean.

*   **`reports/`**:
    *   `FINAL_REPORT.md` (and/or `.pdf`): The main narrative report for the competition.
    *   `figures_and_tables/`: Directory to store high-resolution figures, maps, and tables used in the final report, especially if they are numerous or large.
    *   `site_dossiers/`: Contains individual markdown dossiers for each of the top N candidate PIZs, following the `EXAMPLE_CANDIDATE_SITE_DOSSIER.md` template. Associated images for these dossiers would also be within this subdirectory structure.

*   **`config/`**:
    *   `config.ini`: The central configuration file used by all scripts and notebooks. For submission, this file should have placeholder values for sensitive information like API keys, with clear instructions on how users should populate them.

*   **`project_documentation/`**:
    *   Contains all markdown documents produced throughout the project, detailing plans, strategies, guidelines, and this structure document itself. This ensures all methodological thinking is preserved and accessible.

*   **`environment.yml` / `requirements.txt`**:
    *   `environment.yml`: For setting up a Conda environment with all necessary Python packages and their versions, including dependencies like GDAL and PDAL if installed via Conda.
    *   `requirements.txt`: For `pip`, typically listing Python packages. Can be generated from an active Conda environment.

*   **`README.md` (Root Level)**:
    *   The main entry point for anyone looking at the repository.
    *   Provides a brief project overview.
    *   Crucially, it will contain instructions on how to set up the environment and run the entire workflow, referencing the more detailed reproducibility section in the `FINAL_REPORT.md`.
    *   Includes an overview of this directory structure.

*   **`LICENSE`**:
    *   Specifies the license under which the code and potentially other materials are released. The competition suggests CC0-1.0 for winning submissions.

This structure aims to be comprehensive, organized, and facilitate easy understanding and reproduction of the project's workflow and findings.The `FINAL_REPORT_OUTLINE.md` was created in the previous step. Now, the `REPRODUCIBILITY_PACKAGE_STRUCTURE.md` document has also been created.

The `REPRODUCIBILITY_PACKAGE_STRUCTURE.md` includes:
*   A proposed root directory name: `OpenAI_LostCityZ_AmazonArchaeology/`.
*   A detailed hierarchical directory structure, covering:
    *   `data/` (with subdirectories for `raw`, `processed`, `aoi`, and optional `external_references`, and notes on handling large data for submission).
    *   `scripts/` (with subdirectories for `satellite_pipeline`, `lidar_pipeline`, `text_pipeline`, and optional `utils`, each pipeline having its own scripts and README).
    *   `notebooks/` (for all EDA and PIZ identification/scoring notebooks).
    *   `eda_outputs/` (for outputs from EDA notebooks).
    *   `reports/` (for the `FINAL_REPORT.md`/`.pdf`, supporting `figures_and_tables`, and `site_dossiers` with their images).
    *   `config/` (for the central `config.ini`).
    *   `project_documentation/` (to house all strategy, guideline, and outline MD files created during the project).
    *   Root-level files: `environment.yml`, `requirements.txt`, the main `README.md`, and `LICENSE`.
*   An explanation of key directories and the purpose of important files within them, ensuring clarity on how the package is organized.

Both deliverables for this subtask are now complete and provide a clear plan for the final report and the organization of the submission package.The `FINAL_REPORT_OUTLINE.md` and `REPRODUCIBILITY_PACKAGE_STRUCTURE.md` documents have been created in the previous turns.

1.  **`FINAL_REPORT_OUTLINE.md`**: This document provides a comprehensive, hierarchical outline for the final competition report. It includes all standard scientific report sections (Title, Abstract, Introduction, Methodology, Results, Discussion, Conclusion, References, etc.) and specifically tailors them to address the competition's evaluation criteria (archaeological impact, investigative ingenuity, reproducibility, evidence depth, clarity, novelty). It details subsections for data sources, preprocessing, EDA, site prediction, site verification, presentation of candidate sites (linking to dossier work), and a dedicated reproducibility section with instructions for running the pipeline.

2.  **`REPRODUCIBILITY_PACKAGE_STRUCTURE.md`**: This document describes the planned directory structure for the final code repository. The structure is logical and organized, with clear separation for:
    *   `data/` (raw, processed, AOI, external references - with notes on handling large datasets for submission).
    *   `scripts/` (pipelines for satellite, LiDAR, textual data, each with acquisition and preprocessing scripts).
    *   `notebooks/` (for EDA and PIZ identification/scoring).
    *   `eda_outputs/` (for images/files generated by notebooks).
    *   `reports/` (final report, figures, site dossiers).
    *   `config/` (central `config.ini`).
    *   `project_documentation/` (all .md strategy and guideline documents).
    *   Root-level files like `environment.yml`, `requirements.txt`, main `README.md`, and `LICENSE`.
    It also lists and explains key files that will be included.

Both documents fulfill the requirements of the subtask by providing a clear plan for the final deliverables and ensuring that all competition requirements regarding the report content and reproducibility are addressed in the proposed structures.
